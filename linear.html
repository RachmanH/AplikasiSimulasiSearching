<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Linear Search</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Header -->
  <div class="header">
    <h1>Linear Search</h1>
  </div>

  <!-- Content -->
  <div class="content">
    <!-- Input Form -->
    <div class="mb-4">
      <label for="data" class="form-label">Enter Data (comma separated):</label>
      <div class="input-group">
        <input type="text" class="form-control" id="data" placeholder="e.g., 10, 20, 30, 40, 50" oninput="updateDataBoxes()">
        <button class="btn btn-outline-secondary" type="button" id="generateData" onclick="generateRandomData()">
          <i class="bi bi-shuffle"></i>
        </button>
      </div>
    </div>

    <!-- Search Key -->
    <div class="mb-4">
      <label for="searchKey" class="form-label">Enter Data</label>
      <input type="text" class="form-control" id="searchKey" placeholder="e.g., 30">
    </div>

    <!-- Buttons -->
    <div class="d-grid gap-2">
      <button class="btn btn-primary btn-lg mb-3" onclick="searchData()">Start Search</button>
    </div>

    <!-- Search Result -->
    <div class="mb-2">
      <div id="result" class="alert alert-info">Search Result.....</div>
    </div>

    <!-- Visualization of Search Process -->
    <div class="mb-4">
      <h5 class="text-center">Search Process:</h5>
      <div id="searchProcess" class="d-flex justify-content-center flex-wrap">
        <!-- Boxes will appear here -->
      </div>
    </div>
  </div>

  <!-- Bottom Navigation Buttons -->
  <div class="bottom-nav">
    <a href="index.html"><button>Prev</button></a>
    <a href=""><button>Next</button></a>
  </div>

  <script>
    // Generate random data
    function generateRandomData() {
      let data = [];
      let length = Math.floor(Math.random() * 10) + 5; // Generate between 5 to 15 numbers
      for (let i = 0; i < length; i++) {
        let randomNumber = Math.floor(Math.random() * 100) + 1; // Number between 1 and 100
        data.push(randomNumber);
      }
      document.getElementById('data').value = data.join(', ');
      updateDataBoxes();
    }

    // Update data boxes on input change
    function updateDataBoxes() {
      let dataInput = document.getElementById('data').value;
      let dataArray = dataInput.split(',').map(Number);
      displayDataBoxes(dataArray);
    }

    // Display data as boxes
    function displayDataBoxes(arr) {
      let searchProcess = document.getElementById('searchProcess');
      searchProcess.innerHTML = ''; // Reset box display
      arr.forEach(num => {
        let div = document.createElement('div');
        div.classList.add('box');
        div.textContent = num;
        searchProcess.appendChild(div);
      });
    }

    // Start search
    function searchData() {
      let dataInput = document.getElementById('data').value;
      let searchKey = document.getElementById('searchKey').value;
      let dataArray = dataInput.split(',').map(Number);

      displayDataBoxes(dataArray);

      // Update pesan ke "Start Search..." setelah sorting selesai
      document.getElementById('result').textContent = "Start Search...";

      linearSearch(dataArray, Number(searchKey));
    }

    // Linear Search function
    function linearSearch(arr, key) {
      let index = 0;
      let boxes = document.querySelectorAll('.box');

      function highlightNext() {
        if (index < arr.length) {
          boxes[index].classList.add('highlight');
          setTimeout(() => {
            if (arr[index] === key) {
              document.getElementById('result').className = "alert alert-success";
              document.getElementById('result').textContent = `Element ${key} found at index ${index}`;
              boxes[index].classList.remove('highlight');
              boxes[index].classList.add('found');
            } else {
              boxes[index].classList.remove('highlight');
              boxes[index].classList.add('not-found');
              index++;
              highlightNext();
            }
          }, 1000); // 1 second delay between each step
        } else {
          document.getElementById('result').className = "alert alert-danger";
          document.getElementById('result').textContent = `Element ${key} not found`;
        }
      }
      highlightNext();
    }

    // Placeholder functions for Prev and Next buttons
    function prevPage() {
      alert("Navigating to the previous page...");
    }

    function nextPage() {
      alert("Navigating to the next page...");
    }
  </script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
